<!DOCTYPE HTML>
<html lang="en" class="light sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Releases Train Model - TiDB Development Guide</title>


        <!-- Custom HTML head -->

        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="../favicon.svg">
        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../highlight.css">
        <link rel="stylesheet" href="../tomorrow-night.css">
        <link rel="stylesheet" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->


        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="../toc.js"></script>
    </head>
    <body>
    <div id="body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var sidebar = null;
            var sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="../toc.html"></iframe>
            </noscript>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">TiDB Development Guide</h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/pingcap/tidb-dev-guide" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="release-train-model"><a class="header" href="#release-train-model">Release Train Model</a></h1>
<h2 id="what-is-the-release-train-model"><a class="header" href="#what-is-the-release-train-model">What is the release train model?</a></h2>
<p>Before introducing the concept of the release train model, let us take a review of the delivery mode of TiDB in the past.</p>
<p>In releases earlier than v5.0, the release frequency of TiDB major versions was a year or half a year, which is quite a long development cycle. The long development cycle has both benefits and drawbacks as follows:</p>
<ul>
<li>Benefits: the longer a development cycle is, the more features one release can deliver.</li>
<li>Drawbacks: the longer a development cycle is, the more difficulties we have to coordinate regression and acceptance tests, and the more possibly a delay happens. Also, if new feature requests are received during the long development cycle, these new features are added to the development backlog after the start of the development cycle. In this case, development tasks are hardly converged before the release date.</li>
</ul>
<p>Starting from v5.0, TiDB adopts the release train model, which is a product development model for requirements gathering, analysis, decision making, release, and issue feedback.</p>
<p>Just like a train delivering goods, decisions need to be made about the priorities of the goods, destination, arrival time, which train to load on, which carriage, etc., before the train departs.</p>
<p>The benefits of moving to the release train model are as follows:</p>
<ol>
<li>A shorter feedback cycle: users can benefit from features shipped faster.</li>
<li>Easier predictability for contributors and users:
<ol>
<li>Developers and reviewers can decide in advance the target release to deliver specific features.</li>
<li>If a feature misses a release train, we have a good idea of when the feature will show up later.</li>
<li>Users know when to expect their features.</li>
</ol>
</li>
<li>Transparency. There will be a published cut-off date (AKA code freeze) for the release and people will know about the date in advance. Hopefully this will remove the contention around which features will be included in the release.</li>
<li>Quality. we've seen issues pop up in release candidates due to last-minute features that didn't have proper time to bake in. More time between code freeze and release will let us test more, document more and resolve more issues.</li>
<li>Project visibility and activity. Having frequent releases improves our visibility and gives the community more opportunities to talk about TiDB.</li>
</ol>
<p>Because nothing is ever perfect, the release train model has some downsides as well:</p>
<ol>
<li>Most notably, for features that miss the code-freeze date for a release, we have to wait for a few months to catch the next release train. Most features will reach users faster as per benefit #1, but it is possible that a few features missing the code-freeze date might lose out.</li>
<li>With the frequent releases, users need to figure out which release to use. Also, having frequent new releases to upgrade may be a bit confusing.</li>
<li>Frequent releases means more branches. To fix a bug of an old release, we need to work on more old branches.</li>
</ol>
<p>We decided to experiment with release train model and see if the benefits for us as a community exceed the drawbacks.</p>
<h2 id="how-will-tidb-development-process-look-like"><a class="header" href="#how-will-tidb-development-process-look-like">How will TiDB development process look like?</a></h2>
<p>At this stage we are planning to make a release every two months.</p>
<p>Thus, a typical development cycle takes two months, which we call a sprint. For example, the development cycle of v5.2 is from the end of June to the end of August and is called Sprint 4.</p>
<p>Two weeks before the release date, the release manager will create a branch for the new release based on the master branch, publish a list of features to be included in the release, and also announce the code-freeze, after which only fixes for blocking bugs can be merged.</p>
<p>For the release train model, we strictly ensure that a release happens on the planned date. For example, we decide to deliver the v5.2 release by the end of August so we will stick to it. If any features cannot be completed by the code-freeze date, we will drop them and avoid taking them into the new release branch. In this case, the development in the master branch can still work as usual and those features will be moved to the following release.</p>
<p>Ideally, we would have started stabilization once we create the new release branch. After the code-freeze date, only pull requests of blocker bugs can be merged to the new release branch. In a rare scenario, it is possible that few features pass the code freeze bar but still fail to be completed on time. Such features will also be dropped from the release train in the end to meet the release deadline.</p>
<p>Developers who want to contribute features to TiDB could follow the procedure described in <a href="../contribute-to-tidb/make-a-proposal.html">Make a Proposal</a>. Once all the requirements are met and all the codes are merged into the master branch, the feature will be boxed into the nearest release.</p>
<p>Except for feature releases, there also exists patch releases. Patch releases are scheduled when needed, there is no fixed calendar for such releases. When a patch release is scheduled, there are two rounds of triage. A bug fix could only be boxed into a release when it occurs before triage. Get more information about TiDB releases and versions in <a href="tidb-versioning.html">TiDB versioning</a>.</p>
<h2 id="what-happens-if-features-are-not-completed"><a class="header" href="#what-happens-if-features-are-not-completed">What happens if features are not completed?</a></h2>
<p>Different features have different complexities. Some features can be implemented within a single release while some features span multiple releases. There are two conventional development strategies:</p>
<ol>
<li>
<p>Ensure that each feature is split into testable units and only testable units get merged. This means that a good set of unit tests and system tests are written for sub-tasks before they are merged. This approach ensures that the master branch is in a relatively stable state and can be released at any time.</p>
</li>
<li>
<p>Use feature branches. For a specific feature, the feature developers create a branch from the master branch and ensure that the branch is in sync with the master branch from time to time. Only when the feature developers and reviewers have a high level of confidence in the feature stability, the feature can be merged into master. This approach brings the additional overhead of branching and performing merges from time to time.</p>
</li>
</ol>
<p>With the release train model, to ensure that ongoing features do not affect the stability of the release, TiDB chooses feature branches strategy.</p>
<h2 id="current-maintained-releases"><a class="header" href="#current-maintained-releases">Current Maintained Releases</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">version</th><th style="text-align: left">branch</th><th style="text-align: left">status</th><th style="text-align: left">triage label</th><th style="text-align: left">latest release</th><th style="text-align: left">issue</th></tr></thead><tbody>
<tr><td style="text-align: left">v7.3</td><td style="text-align: left">release-7.3</td><td style="text-align: left">DMR</td><td style="text-align: left">affects-7.3</td><td style="text-align: left">v7.3.0</td><td style="text-align: left"><a href="https://github.com/pingcap/tidb/issues/45123">https://github.com/pingcap/tidb/issues/45123</a></td></tr>
<tr><td style="text-align: left">v7.2</td><td style="text-align: left">release-7.2</td><td style="text-align: left">DMR</td><td style="text-align: left">affects-7.2</td><td style="text-align: left">v7.2.0</td><td style="text-align: left"><a href="https://github.com/pingcap/tidb/issues/44287">https://github.com/pingcap/tidb/issues/44287</a></td></tr>
<tr><td style="text-align: left">v7.1</td><td style="text-align: left">release-7.1</td><td style="text-align: left">LTS</td><td style="text-align: left">affects-7.1</td><td style="text-align: left">v7.1.1</td><td style="text-align: left"><a href="https://github.com/pingcap/tidb/issues/44810">https://github.com/pingcap/tidb/issues/44810</a></td></tr>
<tr><td style="text-align: left">v7.0</td><td style="text-align: left">release-7.0</td><td style="text-align: left">DMR</td><td style="text-align: left">affects-7.0</td><td style="text-align: left">v7.0.0-DMR</td><td style="text-align: left"><a href="https://github.com/pingcap/tidb/issues/41567">https://github.com/pingcap/tidb/issues/41567</a></td></tr>
<tr><td style="text-align: left">v6.6</td><td style="text-align: left">release-6.6</td><td style="text-align: left">DMR</td><td style="text-align: left">affects-6.6</td><td style="text-align: left">v6.6.0-DMR</td><td style="text-align: left"><a href="https://github.com/pingcap/tidb/issues/39326">https://github.com/pingcap/tidb/issues/39326</a></td></tr>
<tr><td style="text-align: left">v6.5</td><td style="text-align: left">release-6.5</td><td style="text-align: left">LTS</td><td style="text-align: left">affects-6.5</td><td style="text-align: left">v6.5.4</td><td style="text-align: left"><a href="https://github.com/pingcap/tidb/issues/45522">https://github.com/pingcap/tidb/issues/45522</a></td></tr>
<tr><td style="text-align: left">v6.4</td><td style="text-align: left">release-6.4</td><td style="text-align: left">DMR</td><td style="text-align: left">affects-6.4</td><td style="text-align: left">v6.4.0-DMR</td><td style="text-align: left"><a href="https://github.com/pingcap/tidb/issues/38364">https://github.com/pingcap/tidb/issues/38364</a></td></tr>
<tr><td style="text-align: left">v6.3</td><td style="text-align: left">release-6.3</td><td style="text-align: left">DMR</td><td style="text-align: left">affects-6.3</td><td style="text-align: left">v6.3.0-DMR</td><td style="text-align: left"><a href="https://github.com/pingcap/tidb/issues/37368">https://github.com/pingcap/tidb/issues/37368</a></td></tr>
<tr><td style="text-align: left">v6.2</td><td style="text-align: left">release-6.2</td><td style="text-align: left">DMR</td><td style="text-align: left">affects-6.2</td><td style="text-align: left">v6.2.0-DMR</td><td style="text-align: left"><a href="https://github.com/pingcap/tidb/issues/35452">https://github.com/pingcap/tidb/issues/35452</a></td></tr>
<tr><td style="text-align: left">v6.1</td><td style="text-align: left">release-6.1</td><td style="text-align: left">LTS</td><td style="text-align: left">affects-6.1</td><td style="text-align: left">v6.1.7</td><td style="text-align: left"><a href="https://github.com/pingcap/tidb/issues/42918">https://github.com/pingcap/tidb/issues/42918</a></td></tr>
<tr><td style="text-align: left">v6.0</td><td style="text-align: left">release-6.0</td><td style="text-align: left">DMR</td><td style="text-align: left">affects-6.0</td><td style="text-align: left">v6.0.0-DMR</td><td style="text-align: left"><a href="https://github.com/pingcap/tidb/issues/32381">https://github.com/pingcap/tidb/issues/32381</a></td></tr>
<tr><td style="text-align: left">v5.0</td><td style="text-align: left">release-5.0</td><td style="text-align: left">LTS</td><td style="text-align: left">affects-5.0</td><td style="text-align: left">v5.0.6</td><td style="text-align: left"><a href="https://github.com/pingcap/tidb/issues/30609">https://github.com/pingcap/tidb/issues/30609</a></td></tr>
<tr><td style="text-align: left">v5.1</td><td style="text-align: left">release-5.1</td><td style="text-align: left">LTS</td><td style="text-align: left">affects-5.1</td><td style="text-align: left">v5.1.5</td><td style="text-align: left"><a href="https://github.com/pingcap/tidb/issues/32148">https://github.com/pingcap/tidb/issues/32148</a></td></tr>
<tr><td style="text-align: left">v5.2</td><td style="text-align: left">release-5.2</td><td style="text-align: left">LTS</td><td style="text-align: left">affects-5.2</td><td style="text-align: left">v5.2.4</td><td style="text-align: left"><a href="https://github.com/pingcap/tidb/issues/30608">https://github.com/pingcap/tidb/issues/30608</a></td></tr>
<tr><td style="text-align: left">v5.3</td><td style="text-align: left">release-5.3</td><td style="text-align: left">LTS</td><td style="text-align: left">affects-5.3</td><td style="text-align: left">v5.3.4</td><td style="text-align: left"><a href="https://github.com/pingcap/tidb/issues/39077">https://github.com/pingcap/tidb/issues/39077</a></td></tr>
<tr><td style="text-align: left">v5.4</td><td style="text-align: left">release-5.4</td><td style="text-align: left">LTS</td><td style="text-align: left">affects-5.4</td><td style="text-align: left">v5.4.3</td><td style="text-align: left"><a href="https://github.com/pingcap/tidb/issues/37748">https://github.com/pingcap/tidb/issues/37748</a></td></tr>
<tr><td style="text-align: left">v4.0</td><td style="text-align: left">release-4.0</td><td style="text-align: left">LTS</td><td style="text-align: left">affects-4.0</td><td style="text-align: left">v4.0.16</td><td style="text-align: left"><a href="https://github.com/pingcap/tidb/issues/29856">https://github.com/pingcap/tidb/issues/29856</a></td></tr>
</tbody></table>
</div>
<p>For more versions' information, please check <a href="https://github.com/pingcap/tidb/projects/63">https://github.com/pingcap/tidb/projects/63</a>.</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../project-management/introduction.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next prefetch" href="../project-management/tidb-versioning.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../project-management/introduction.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next prefetch" href="../project-management/tidb-versioning.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="../elasticlunr.min.js"></script>
        <script src="../mark.min.js"></script>
        <script src="../searcher.js"></script>

        <script src="../clipboard.min.js"></script>
        <script src="../highlight.js"></script>
        <script src="../book.js"></script>

        <!-- Custom JS scripts -->


    </div>
    </body>
</html>
